CREATE TABLE `user` (
	`user_id` VARCHAR(32) NOT NULL COMMENT '用户id',
	`name` VARCHAR(64) NOT NULL COMMENT '真实姓名',
	`user_name` VARCHAR(64) NOT NULL COMMENT '用户名',
	`password` VARCHAR(64) NOT NULL COMMENT '密码',
	`salt`	VARCHAR(64) COMMENT '加密密码的盐',
	`status` TINYINT(10) NOT NULL COMMENT '用户状态',
	`create_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
	`update_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
	PRIMARY KEY(`user_id`),
	UNIQUE KEY(`user_name`)

) COMMENT '用户表';

CREATE TABLE `user_role`(
	`user_role_id` VARCHAR(32) NOT NULL COMMENT '用户角色id',
	`user_id` VARCHAR(32) NOT NULL COMMENT '用户id',
	`role_id` VARCHAR(32) NOT NULL COMMENT '角色id',
	`create_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
	`update_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
	PRIMARY KEY(`user_role_id`)
) COMMENT '用户角色表';

CREATE TABLE `role`(
	`role_id` VARCHAR(32) NOT NULL COMMENT '角色id',
	`role_name` VARCHAR(64) NOT NULL COMMENT '角色名称',
	`create_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
	`update_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
	PRIMARY KEY(`role_id`)
) COMMENT '角色表';

CREATE TABLE `role_permission`(
	`role_permission_id` VARCHAR(32) NOT NULL COMMENT '角色权限id',
	`role_id` VARCHAR(32) NOT NULL COMMENT '角色id',
	`permission_id` VARCHAR(32) NOT NULL COMMENT '权限id',
	`create_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
	`update_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
	PRIMARY KEY(`role_permission_id`)
) COMMENT '角色权限表';

CREATE TABLE `permission`(
	`permission_id` VARCHAR(32) NOT NULL COMMENT '权限id',
	`permission_name` VARCHAR(64) NOT NULL COMMENT '权限名称',
	`resource_type` TINYINT(5) NOT NULL COMMENT '资源类型',
	`url` VARCHAR(128) NOT NULL COMMENT '资源路径',
	`permiss` VARCHAR(128) NOT NULL COMMENT '权限字符串',
	`parent_id` VARCHAR(32) NOT NULL COMMENT '父权限id',
	`sort_rank` int(5) NOT NULL COMMENT '排序策略',
	`create_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
	`update_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
	PRIMARY KEY(`permission_id`)
) COMMENT '权限表';